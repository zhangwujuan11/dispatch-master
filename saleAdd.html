<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <title>创建销售单</title>
  <!-- <link rel="stylesheet" href="css/mui.min.css" /> -->
  <link rel="stylesheet" href="fonts/iconfont.css" />
  <link rel="stylesheet" href="css/mui.picker.min.css" />
  <link rel="stylesheet" type="text/css" href="css/test.css" />
  <link rel="stylesheet" type="text/css" href="css/common.css?v=1.1" />
  <link rel="stylesheet" href="plugins/mescroll/mescroll.min.css">
  <script>
    document.write("<link rel='stylesheet' type='text/css' href='css/style.css?v=" + Date.now() + "'/>");
  </script>
</head>

<body style="background:#efeff4">
  <div id="app">
    <div id="appContent">
      <div v-show="step1">
        <div class="saleFich">
          <span class="icon-style icon_tl"></span>
          <span class="icon-style icon_tr"></span>
          <span class="icon-style icon_bl"></span>
          <span class="icon-style icon_br"></span>
          <div class="topSale">
            <img src="images/icon/logo.png" width="40%">
            <h1>销 售 单</h1>
          </div>
          <div class="item-sale">
            <div class="inner-item">
              <ul class="item-lists">
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>客户类型：</em>
                  <p>
                    <select v-model="userType">
                      <option value="">请选择客户类型</option>
                      <option value="1">保险公司客户</option>
                      <option value="2">零售客户</option>
                      <option value="3">修理厂客户</option>
                      <option value="4">4S店客户</option>
                      <option value="5">车队客户</option>
                    </select>
                    <span class="icon_down"></span>
                  </p>
                </li>
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>客户名称：</em>
                  <p>
                    <input v-model="userName" type="text" name="" placeholder="请输入客户名称" />
                  </p>
                </li>
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>车牌号码：</em>
                  <p>
                    <input type="text" name="" value="" placeholder="请输入车牌号码" @keyup="toUpperCase(carNo)"
                      v-model="carNo" style="text-indent:50px">
                    <select name="province" class="province" id="province" v-model="provSelected">
                      <option v-for="item in provList">{{item.code}}</option>
                    </select>
                    <span class="icon_down icon_down_p"></span>
                  </p>
                </li>
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>联系电话：</em>
                  <p>
                    <input type="text" name="" v-model="mobile" oninput="if(value.length>11) value=value.slice(0,11)"
                      onKeyUp="this.value=this.value.replace(/[^\d]/g, '')" value="" placeholder="请输入联系电话">
                  </p>
                </li>
              </ul>
            </div>
          </div>
          <div class="item-sale">
            <div class="inner-item">
              <h3 class="item-tit" style="position: relative;">
                商品信息
                <em class="cngType" :class="isFy ? `bgBlue` : `blue`"
                  style="top:-5px; right: 80px; padding:4px 8px; line-height: 20px"
                  @click="toCngProName('isFy')">福耀商品</em>
                <em class="cngType" :class="!isFy ? `bgBlue` : `blue`"
                  style="top:-5px;  padding:4px 8px; line-height: 20px" @click="toCngProName('isNoFy')">其他商品</em>
              </h3>
              <ul class="item-lists" v-if="isFy">
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>商品名称：</em>
                  <p @click="toProName('proName')" style="border-bottom:2px solid #333333; padding: 0 0 6px 10px;">
                    <!-- <input type="text" v-model="productName" name="" readonly="" placeholder="请选择商品名称" /> -->
                    {{ productName ? productName : '请选择商品名称'}}
                  </p>
                </li>
                <li class="item-list" v-if="productName">
                  <span class="red iconD">*</span>
                  <em>商品编码：</em>
                  <p>
                    <input type="text" v-model="productSn" name="" readonly="" placeholder="请输入商品编码" />
                  </p>
                </li>
                <li class="item-list" v-if="productName && carType">
                  <span class="red iconD">*</span>
                  <em>车辆车型：</em>
                  <p style="border-bottom:2px solid #333333; padding: 0 0 6px 10px;">
                    <!-- <input type="text" name="" placeholder="请选择车辆车型" v-model="carType" readonly="" /> -->
                    {{carType ? carType : '请选择车辆车型'}}
                  </p>
                </li>
                <li class="item-list" v-if="productName">
                  <span class="red iconD">*</span>
                  <em>零售价：</em>
                  <p>
                    <input type="text" name="" placeholder="请选择商品零售价" class="red p16" v-model="retailPrice"
                      readonly="" />
                  </p>
                </li>
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>数 量：</em>
                  <p>
                    <input v-model="totalSum" type="text" name="" placeholder="请输入数量">
                  </p>
                </li>
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>辅 料：</em>
                  <p>
                    <select v-model="productFl" @change="cngproductFl">
                      <option value="">请选择辅料</option>
                      <option v-for="item in productFlOption" :value="item.name">{{item.name}}</option>
                    </select>
                  </p>
                </li>
                <li class="item-list" v-if="productFl==`太阳膜`">
                  <span class="red iconD">*</span>
                  <em>防伪编码：</em>
                  <!-- <p>
                                        <input type="text" v-model="securityCode" name=""  placeholder="请输入防伪编号" />
                                    </p> -->
                  <p @click="toProName('securityCode')">
                    <input type="text" v-model="securityCode" name="" readonly="" placeholder="请选择太阳膜防伪码" />
                  </p>
                </li>
                <li class="item-list" v-if="productFl==`太阳膜` && productAttr">

                  <em>规格信息：</em>
                  <p style="border-bottom:2px solid #333333; padding: 0 0 6px 10px;">
                    <!-- <input type="text" v-model="productAttr" name=""  placeholder="请输入质保年限" readonly="" /> -->
                    {{productAttr}}
                  </p>
                </li>

                <li class="item-list" v-if="productFl==`太阳膜`">
                  <span class="red iconD">*</span>
                  <em>质保年限：</em>
                  <p>
                    <input type="text" v-model="keepYears" name="" placeholder="请输入质保年限" />
                  </p>
                </li>
              </ul>
              <ul class="item-lists" v-if="!isFy">
                 <li class="item-list" style="display: none;">
                  <span class="red iconD">*</span>
                  <em>商品名称：</em>
                  <p>
                    <input type="text" v-model="productName" name="" placeholder="请输入商品名称" />
                    
                  </p>
                </li> 
                <li class="item-list" style="display: none;">
                  <span class="red iconD">*</span>
                  <em>商品编码：</em>
                  <p>
                    <input type="text" v-model="productSn" name="" placeholder="请输入商品编码" />
                  </p>
                </li>
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>商品品牌：</em>
                  <p>
                    <!-- <input type="text" name="" placeholder="请输入商品品牌" v-model="carType" /> -->
                    <select v-model="carType">
                      <option value="">请选择商品品牌</option>
                      <option value="SUNLESS">SUNLESS</option>
                      <option value="龙膜">龙膜</option>
                      <option value="矽盾">矽盾</option>
                      <option value="其他">其他</option>
                    </select>
                    <span class="icon_down"></span>
                  </p>
                </li>
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>商 品：</em>
                  <p>
                    <!-- <input type="text" v-model="productFl" name="" placeholder="请输入辅料"> -->
                    <select v-model="productFl" @change="cngproductFl">
                      <option value="">请选择商品</option>
                      <option v-for="item in productFlOption" :value="item.name">{{item.name}}</option>
                    </select>
                  </p>
                </li>
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>数 量：</em>
                  <p>
                    <input v-model="totalSum" type="text" name="" placeholder="请输入数量">
                  </p>
                </li>
                <!-- <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>质保年限：</em>
                  <p>
                    <input v-model="totalSum" type="text" name="" placeholder="请输入数量">
                  </p>
                </li> -->

                <li class="item-list" v-if="productFl==`太阳膜`">
                  <span class="red iconD">*</span>
                  <em>防伪编码：</em>
                  <!-- <p>
                                        <input type="text" v-model="securityCode" name=""  placeholder="请输入防伪编号" />
                                    </p> -->
                  <p @click="toProName('securityCode')">
                    <input type="text" v-model="securityCode" name="" readonly=""
                      :placeholder="searchType == 'proName' ? `请选择商品名称` : `请选择太阳膜防伪码`" />
                  </p>
                </li>
                <li class="item-list" v-if="productFl==`太阳膜` && productAttr">

                  <em>规格信息：</em>
                  <p style="border-bottom:2px solid #333333; padding: 0 0 6px 10px;">
                    <!-- <input type="text" v-model="productAttr" name=""  placeholder="请输入质保年限" readonly="" /> -->
                    {{productAttr}}
                  </p>
                </li>

                <li class="item-list" v-if="productFl==`太阳膜`">
                  <span class="red iconD">*</span>
                  <em>质保年限：</em>
                  <p>
                    <input type="text" v-model="keepYears" name="" placeholder="请输入质保年限" />
                  </p>
                </li>

              </ul>
            </div>
          </div>
          <div class="item-sale">
            <div class="inner-item">
              <h3 class="item-tit">商品费用</h3>
              <ul class="item-lists pb10">
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>商品金额：</em>
                  <p>
                    <input class="red" v-model="totalPrice" style="font-size:18px; font-weight:600" type="text" name=""
                      onKeyUp="value=value.replace(/[^\d^\.]+/g,'')" placeholder="请输入商品金额" />
                  </p>
                </li>
              </ul>
            </div>
          </div>
          <div class="blackHr"></div>
          <div class="item-sale" style="margin:20px; border:1px solid #333">
            <div class="inner-item" style="padding:10px 16px">
              <ul class="item-lists pb10">

                <li class="item-list">
                  <!-- <span class="red iconD">*</span> -->
                  <em>安装技师：</em>
                  <p v-if="pdlist.length">
                    <select v-model="personId">
                      <option value="">请选择安装技师</option>
                      <option v-for="item in pdlist" :value="item.id">{{item.name}}</option>
                    </select>
                    <span class="icon_down"></span>
                  </p>
                  <p v-else @click="toAddShopUser">
                    <span class="choice blue" style="text-decoration: underline;">
                      暂无技师，点击添加
                    </span>
                    <span class="icon_down"></span>
                  </p>
                </li>
                <li class="item-list">
                  <span class="red iconD">*</span>
                  <em>付款方式：</em>
                  <p>
                    <select v-model="payMethod">
                      <option value="">请选择付款方式</option>
                      <option value="1">微信</option>
                      <option value="2">现金</option>
                      <option value="3">支付宝</option>
                      <option value="4">第三方支付</option>
                    </select>
                    <span class="icon_down"></span>
                  </p>
                </li>
                <li class="item-list">
                  <em>备注信息：</em>
                  <p>
                    <input type="text" v-model="remarks" name="" placeholder="请输入备注信息">
                  </p>
                </li>
              </ul>
            </div>
          </div>
          <div class="btn-subSale">
            <button class="subSale blueGraShadow" @click="add">提交销售单</button>
          </div>
        </div>
      </div>
      <div v-show="step2" style="background:#fff">
        <section class="aui-flexView">
          <header class="aui-navBar aui-navBar-fixed b-line">
            <a href="javascript:;" class="aui-navBar-item">
              <i class="icon icon-return"></i>
            </a>
            <div class="aui-center">
              <span class="aui-center-title">选择品牌</span>
            </div>
            <a href="javascript:;" class="aui-navBar-item">
              <i class="icon icon-sys"></i>
            </a>
          </header>
          <section class="aui-scrollView">
            <div id="showLetter" class="showLetter">
              <span>A</span>
            </div>
            <div class="letter">
              <ul>
                <li v-for="item in arrWords">
                  <a href="javascript:;">{{item}}</a>
                </li>
              </ul>
            </div>
            <div class="container">
              <div class="city">
                <div class="city-list" v-for="iWord in arrWords">
                  <span class="city-letter b-line" :id="iWord+`1`">{{iWord}}</span>
                  <a href="javascript:;" v-for="item in carList" class="aui-flex" v-show="item.firstletter==iWord"
                    :realId="item.id" @click="cngCar(item)">
                    <div class="aui-brand-logo">
                      <img :src="item.img" alt="">
                    </div>
                    <div class="aui-flex-box">
                      <h3>{{item.name}}</h3>
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </section>
        </section>
      </div>
      <div v-show="step3" style="background:#fff">
        <section class="aui-flexView">
          <header class="aui-navBar aui-navBar-fixed b-line">
            <a href="javascript:;" class="aui-navBar-item">
              <i class="icon icon-return"></i>
            </a>
            <div class="aui-center">
              <span class="aui-center-title">选择车型</span>
            </div>
            <a href="javascript:;" class="aui-navBar-item">
              <i class="icon icon-sys"></i>
            </a>
          </header>
          <section class="aui-scrollView">
            <div class="container">
              <div class="city">
                <div class="city-list">
                  <a href="javascript:;" class="aui-flex" v-for="item in carTypeList" @click="surCarType(item)">
                    <div class="aui-flex-box">
                      <h3>{{item.fullName}}</h3>
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </section>
          <div class="mask" @click="hideMask"></div>
          <div class="showCarType">
            <ul class="carTypeLists" style="height:100%">
              <li class="carTypeList" v-for="item in carInfoList" :carInfoId="item.id" @click="selCarType(item)">
                {{item.fullName}}</li>
            </ul>
          </div>
        </section>
      </div>
      <!-- 选择商品或者防伪码 -->
      <div v-show="step4" style="background:#efeff4">
        <div class="search">
          <span class="icon_search"></span>
          <input type="txet" v-model="kw" class="pro-search"
            style="width: 100%; height: 20px; line-height: 20px; padding:12px 0; text-indent: 32px; color: #333" name=""
            @input="search(kw)" :placeholder="searchType == 'proName' ?  `搜索商品名称` : `搜索太阳膜防伪码`">
        </div>
        <div class="excellContent">
          <div class="mp60">
            <div id="mescroll" class="mescroll">
              <ul class="wasteLists fixed" id="dataList">
                <li class="wasteList" v-if="searchType == 'proName'" v-for="pl in prolist" @click="surSrh(pl)">
                  <p>{{pl.glassName}}</p>
                  <p class="grey">商品编码： [ {{pl.carg}} ] </p>
                </li>

                <li class="wasteList" v-if="searchType == 'securityCode'" v-for="pl in prolist" @click="surSrh(pl)">
                  <p>防伪编码： {{pl.securityCode}}</p>
                  <p class="grey">规格信息：{{pl.productName}}</p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="tip-box">
      <div class="wx_confirm_tit" id="tip-mes"></div>
    </div>
  </div>
</body>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=sWoqMKR8epDqBxzlRxqqEpfP"></script>
<script src="js/varInfo.js"></script>
<script src="plugins/vue/vue.js"></script>
<script src="plugins/mescroll/mescroll.min.js" type="text/javascript" charset="utf-8"></script>
<script type='text/javascript' src="js/jquery-1.8.2.min.js"></script>
<script type='text/javascript' src="js/jweixin-1.2.0.js"></script>
<script type='text/javascript' src="js/common.js?v=0.6"></script>

<script type='text/javascript' src="js/jswx.js?v=2.4"></script>
<script>
  document.write("<script type='text/javascript' src='js/Service.js?v=" + Date.now() + "'><\/script>");
  document.write("<script type='text/javascript' src='js/saleAdd.js?v=" + Date.now() + "'><\/script>");
</script>
</html>